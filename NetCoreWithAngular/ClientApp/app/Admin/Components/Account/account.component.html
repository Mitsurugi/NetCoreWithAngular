<div *ngIf="_accGlobals.isLogged">
    <h2>Logged in as {{_accGlobals.login}}</h2>
    <h2>Role: {{_accGlobals.role}}</h2>
    <div class="form-group">
        <button class="btn btn-default" (click)="deleteToken()">Logout</button>
    </div> 
    <div class="form-group">
        <h2>Change password</h2>
        <div *ngIf="_error" class="form-group">
            <span class="error">Error: {{_error}}</span>
        </div>
        <div>
            <form #passwordChangeForm="ngForm">
                <div class="form-group">
                    <label>Current password *</label>
                    <input class="form-control" name="currentPassword" [(ngModel)]="_changePasswordModel.currentPassword" #currentPassword="ngModel" type="password" required/>
                    <div *ngIf="currentPassword.touched && currentPassword.invalid">
                        <p *ngIf="currentPassword.errors.required" class="validation-text">
                            Current password required
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label>New password *</label>
                    <input class="form-control" name="newPassword" [(ngModel)]="_changePasswordModel.newPassword" #newPassword="ngModel" type="password" required />
                    <div *ngIf="newPassword.touched && newPassword.invalid">
                        <p *ngIf="newPassword.errors.required" class="validation-text">
                            New password required
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn btn-default" (click)="changePassword()" [disabled]="passwordChangeForm.invalid">Change password</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div *ngIf="!_accGlobals.isLogged">
    <h2>Login</h2>
    <div *ngIf="_error" class="form-group">
        <span class="error">Error: {{_error}}</span>
    </div>
    <div>
        <form #loginForm="ngForm">
            <div class="form-group">
                <label>Login *</label>
                <input class="form-control" name="login" [(ngModel)]="_loginModel.login" #login="ngModel" type="text" required pattern="^[a-zA-Z0-9]*$" />
                <div *ngIf="login.touched && login.invalid">
                    <p *ngIf="login.errors.required" class="validation-text">
                        Login required
                    </p>
                    <p *ngIf="login.errors.pattern" class="validation-text">
                        Only letters and numbers allowed
                    </p>
                </div>
            </div>
            <div class="form-group">
                <label>Password *</label>
                <input class="form-control" name="password" [(ngModel)]="_loginModel.password" #password="ngModel" type="password" required />
                <div *ngIf="password.touched && password.invalid">
                    <p *ngIf="password.errors.required" class="validation-text">
                        Password required
                    </p>
                </div>
            </div>
            <div class="form-group">
                <button class="btn btn-default" (click)="getToken()" [disabled]="loginForm.invalid">LogIn</button>
            </div>
        </form>
    </div>
</div>